#!/usr/bin/env python3

import re

with open('english-dictionary.txt') as file:
    dictionary = set(file.read().splitlines())

with open('compound-words.txt') as file:
    compound_words = {
        tuple(re.sub('\W', '', word) for word in line.split('-'))
        for line in file.read().splitlines()
    }

min_length = 3
dictionary = {word for word in dictionary if len(word) >= min_length}

# non-words
dictionary -= {
    'aba',
    'ably',
    'abo',
    'aboma',
    'abr',
    'abri',
    'abs',
    'abstr',
    'aby',
    'acana',
    'acc',
    'acetic',
    'ach',
    'acies',
    'ack',
    'acle',
    'acock',
    'acy',
    'ade',
    'aden',
    'adin',
    'admi',
    'adon',
    'ador',
    'adv',
    'ady',
    'aer',
    'aero',
    'aes',
    'aff',
    'agger',
    'agit',
    'agonal',
    'agric',
    'aias',
    'ain',
    'ains',
    'aking',
    'ala',
    'alca',
    'alco',
    'ald',
    'algy',
    'alia',
    'alin',
    'ality',
    'aller',
    'allo',
    'alma',
    'alogical',
    'als',
    'ama',
    'amani',
    'amas',
    'ame',
    'amel',
    'ami',
    'amic',
    'amin',
    'amine',
    'amis',
    'amphi',
    'amu',
    'ana',
    'anabo',
    'anda',
    'ands',
    'ane',
    'anes',
    'anga',
    'anglo',
    'anhyd',
    'anim',
    'animi',
    'anno',
    'ans',
    'antal',
    'anti',
    'apa',
    'aph',
    'apod',
    'appro',
    'ara',
    'arb',
    'ared',
    'arg',
    'arian',
    'aril',
    'aro',
    'arry',
    'ars',
    'arte',
    'aru',
    'arum',
    'ary',
    'asa',
    'ase',
    'asse',
    'assembl',
    'ast',
    'ata',
    'ated',
    'ately',
    'ates',
    'ati',
    'ating',
    'atony',
    'atry',
    'att',
    'atte',
    'aul',
    'aus',
    'automa',
    'aux',
    'avar',
    'avo',
    'awa',
    'awn',
    'ays',
    'azo',
    'bab',
    'babi',
    'bac',
    'baff',
    'bai',
    'bais',
    'bal',
    'bapt',
    'bas',
    'bec',
    'bef',
    'bel',
    'ber',
    'bes',
    'bhut',
    'bidar',
    'biga',
    'bion',
    'bis',
    'bish',
    'blas',
    'blea',
    'blin',
    'blk',
    'blo',
    'boc',
    'boh',
    'bol',
    'bom',
    'bon',
    'bons',
    'bor',
    'bord',
    'bori',
    'bos',
    'britt',
    'broo',
    'bufo',
    'bul',
    'bur',
    'bure',
    'cack',
    'cai',
    'cal',
    'calc',
    'calla',
    'cana',
    'canc',
    'cara',
    'carn',
    'caro',
    'cary',
    'cate',
    'caul',
    'cauld',
    'cee',
    'cele',
    'cen',
    'cene',
    'cere',
    'cest',
    'cha',
    'chal',
    'che',
    'chee',
    'chela',
    'chemic',
    'chi',
    'ching',
    'chiro',
    'chlor',
    'cho',
    'chol',
    'chou',
    'chun',
    'cid',
    'cie',
    'cir',
    'cis',
    'cise',
    'cit',
    'civ',
    'cive',
    'cize',
    'clavi',
    'clee',
    'cli',
    'clo',
    'clon',
    'cly',
    'col',
    'colla',
    'com',
    'comm',
    'commis',
    'commo',
    'conc',
    'cond',
    'cont',
    'contes',
    'contr',
    'copa',
    'cor',
    'cora',
    'cort',
    'cos',
    'couma',
    'cran',
    'cre',
    'crea',
    'cres',
    'cric',
    'crim',
    'cris',
    'cro',
    'cru',
    'crus',
    'cts',
    'cul',
    'culp',
    'culti',
    'cun',
    'cycl',
    'cyclo',
    'cyl',
    'dae',
    'dag',
    'dak',
    'dal',
    'damas',
    'dani',
    'dar',
    'dat',
    'daun',
    'daw',
    'dea',
    'debo',
    'dec',
    'decem',
    'decus',
    'dedo',
    'def',
    'defi',
    'deg',
    'del',
    'dele',
    'dels',
    'dem',
    'dep',
    'der',
    'des',
    'desc',
    'det',
    'dev',
    'deve',
    'devi',
    'dey',
    'dia',
    'dias',
    'dict',
    'dicta',
    'dier',
    'dif',
    'dil',
    'dingly',
    'dir',
    'dis',
    'disa',
    'disci',
    'discost',
    'discour',
    'disli',
    'disp',
    'dist',
    'dit',
    'div',
    'divi',
    'divid',
    'dod',
    'doge',
    'dol',
    'dom',
    'doms',
    'doo',
    'dop',
    'dor',
    'doub',
    'drof',
    'duc',
    'dum',
    'dun',
    'duns',
    'dup',
    'dur',
    'dura',
    'dural',
    'dure',
    'duro',
    'dys',
    'eably',
    'ead',
    'ean',
    'eau',
    'eche',
    'eco',
    'ectopia',
    'ecus',
    'een',
    'eer',
    'ela',
    'elev',
    'ell',
    'ella',
    'elling',
    'elops',
    'els',
    'elt',
    'eme',
    'emer',
    'emic',
    'emp',
    'ems',
    'enam',
    'enc',
    'ency',
    'ened',
    'eng',
    'engl',
    'engr',
    'enl',
    'ens',
    'env',
    'eole',
    'epi',
    'epit',
    'erd',
    'erer',
    'erf',
    'erg',
    'eria',
    'ern',
    'erns',
    'erose',
    'ers',
    'erse',
    'erses',
    'erugo',
    'esc',
    'esca',
    'escar',
    'ese',
    'eses',
    'ess',
    'esse',
    'essed',
    'esses',
    'essive',
    'est',
    'estat',
    'estats',
    'ester',
    'etas',
    'eth',
    'ety',
    'evap',
    'exor',
    'exp',
    'ext',
    'exul',
    'eyry',
    'fac',
    'fain',
    'fas',
    'fec',
    'fels',
    'fem',
    'fer',
    'ferous',
    'ferr',
    'feu',
    'fice',
    'fidge',
    'fied',
    'fil',
    'filt',
    'fixt',
    'flamb',
    'flet',
    'flot',
    'fol',
    'foret',
    'formyl',
    'fra',
    'fris',
    'fulness',
    'fumy',
    'gaed',
    'gali',
    'galv',
    'gam',
    'gan',
    'gara',
    'garg',
    'gau',
    'gaw',
    'ged',
    'gen',
    'geo',
    'geom',
    'ger',
    'gers',
    'gery',
    'ges',
    'gether',
    'gid',
    'gie',
    'gies',
    'gil',
    'ging',
    'gio',
    'gish',
    'gite',
    'glar',
    'gled',
    'glos',
    'gnatho',
    'gol',
    'gon',
    'gor',
    'gos',
    'gou',
    'gour',
    'gra',
    'graphy',
    'gras',
    'grav',
    'gre',
    'gree',
    'gro',
    'gros',
    'gruf',
    'grum',
    'grun',
    'gul',
    'gular',
    'gyp',
    'hache',
    'hae',
    'hala',
    'hame',
    'han',
    'harr',
    'hau',
    'hav',
    'haw',
    'hede',
    'hee',
    'heer',
    'hei',
    'hein',
    'hel',
    'helio',
    'heme',
    'hery',
    'hest',
    'het',
    'hetero',
    'hexa',
    'hia',
    'hic',
    'hie',
    'hin',
    'hine',
    'hing',
    'hir',
    'hist',
    'hoc',
    'hod',
    'hol',
    'hom',
    'homo',
    'hoo',
    'hor',
    'hosp',
    'hote',
    'hout',
    'hove',
    'hts',
    'hyd',
    'hydra',
    'hydro',
    'hyoid',
    'hyp',
    'hypo',
    'ian',
    'iban',
    'ide',
    'ideo',
    'ides',
    'idic',
    'ife',
    'iff',
    'ign',
    'ijo',
    'ile',
    'ilia',
    'iliac',
    'ilial',
    'ima',
    'imber',
    'imi',
    'impar',
    'impen',
    'imper',
    'inc',
    'incl',
    'incr',
    'ind',
    'inde',
    'indef',
    'indic',
    'inf',
    'ing',
    'inger',
    'inia',
    'inial',
    'ino',
    'inoscopy',
    'ins',
    'insp',
    'inst',
    'int',
    'intr',
    'inv',
    'inwood',
    'iodo',
    'ioni',
    'ionism',
    'ionist',
    'ios',
    'ise',
    'ised',
    'ish',
    'ising',
    'ism',
    'isms',
    'iso',
    'ist',
    'ita',
    'ital',
    'iter',
    'ito',
    'iva',
    'izing',
    'jacu',
    'jan',
    'jarg',
    'jaun',
    'jer',
    'jin',
    'joll',
    'jour',
    'jud',
    'jun',
    'jura',
    'kail',
    'kal',
    'kam',
    'kan',
    'kas',
    'kat',
    'ked',
    'kef',
    'ker',
    'kers',
    'ket',
    'kha',
    'khi',
    'kie',
    'kier',
    'kil',
    'kine',
    'kins',
    'kish',
    'kling',
    'kob',
    'koff',
    'koil',
    'kol',
    'kop',
    'lac',
    'lah',
    'lai',
    'lan',
    'lant',
    'lar',
    'las',
    'lat',
    'lated',
    'lath',
    'lati',
    'lation',
    'lative',
    'lect',
    'lees',
    'leng',
    'lep',
    'ler',
    'les',
    'lessness',
    'lete',
    'leto',
    'leuco',
    'levi',
    'ley',
    'leys',
    'lib',
    'lide',
    'lier',
    'liest',
    'lif',
    'lig',
    'lim',
    'lin',
    'ling',
    'lings',
    'lino',
    'lins',
    'lis',
    'lise',
    'lish',
    'lith',
    'lithic',
    'litho',
    'litu',
    'ller',
    'loa',
    'loc',
    'loca',
    'lod',
    'logy',
    'loir',
    'lor',
    'loric',
    'loring',
    'lors',
    'lubric',
    'luc',
    'lula',
    'lum',
    'lur',
    'lym',
    'lysis',
    'lytic',
    'mag',
    'majo',
    'mal',
    'mala',
    'mam',
    'mang',
    'manship',
    'maras',
    'mas',
    'mau',
    'mea',
    'med',
    'mee',
    'mele',
    'melic',
    'mell',
    'ment',
    'mer',
    'mes',
    'meso',
    'meta',
    'metas',
    'metho',
    'methyl',
    'mho',
    'mid',
    'mids',
    'mig',
    'mil',
    'min',
    'mina',
    'ming',
    'mino',
    'mis',
    'mit',
    'moc',
    'mol',
    'mon',
    'mono',
    'monos',
    'mont',
    'mor',
    'morate',
    'moro',
    'morphic',
    'morro',
    'mort',
    'mos',
    'mou',
    'moun',
    'multi',
    'mun',
    'mus',
    'mut',
    'mya',
    'nable',
    'nad',
    'nant',
    'nar',
    'narra',
    'naso',
    'nav',
    'nea',
    'neb',
    'necro',
    'ned',
    'neo',
    'nepa',
    'nerol',
    'ness',
    'nesses',
    'nett',
    'nid',
    'nies',
    'nig',
    'ning',
    'nist',
    'nomina',
    'non',
    'nona',
    'nong',
    'noo',
    'nous',
    'nov',
    'nowhit',
    'nus',
    'oba',
    'obe',
    'obs',
    'ocas',
    'ock',
    'ocracy',
    'oct',
    'odic',
    'oeci',
    'oer',
    'oes',
    'oint',
    'oke',
    'ola',
    'ole',
    'olid',
    'ological',
    'ologies',
    'ologist',
    'ology',
    'omni',
    'ona',
    'ons',
    'ont',
    'ontic',
    'ony',
    'onym',
    'onymy',
    'oons',
    'oos',
    'oot',
    'opa',
    'ope',
    'ophis',
    'ora',
    'orality',
    'orant',
    'ord',
    'ored',
    'org',
    'ornis',
    'orphic',
    'orphism',
    'ors',
    'ort',
    'orth',
    'ortho',
    'orts',
    'ory',
    'ose',
    'oses',
    'osophy',
    'otic',
    'otus',
    'ounding',
    'ounds',
    'ousia',
    'outr',
    'oxid',
    'oxy',
    'oyer',
    'pac',
    'paho',
    'pala',
    'panto',
    'para',
    'pari',
    'parl',
    'pas',
    'pasch',
    'paten',
    'pau',
    'ped',
    'peda',
    'peh',
    'pere',
    'perf',
    'peri',
    'peris',
    'perit',
    'pers',
    'pess',
    'petr',
    'petro',
    'phobia',
    'phobic',
    'phono',
    'phot',
    'phys',
    'pia',
    'pica',
    'pice',
    'pico',
    'piest',
    'pil',
    'ping',
    'pirr',
    'pis',
    'pish',
    'pist',
    'plat',
    'plex',
    'pli',
    'plu',
    'poa',
    'pol',
    'pols',
    'poly',
    'polys',
    'pomo',
    'pon',
    'por',
    'pos',
    'pote',
    'poti',
    'pott',
    'poult',
    'pre',
    'prec',
    'pred',
    'prem',
    'pres',
    'pret',
    'preter',
    'prev',
    'prin',
    'prio',
    'prog',
    'prost',
    'proto',
    'pseud',
    'pseudo',
    'psia',
    'psis',
    'pte',
    'publ',
    'publici',
    'pul',
    'puli',
    'puls',
    'pur',
    'purs',
    'pyla',
    'pyr',
    'qua',
    'quag',
    'quar',
    'quare',
    'quat',
    'que',
    'ques',
    'quet',
    'qui',
    'quin',
    'quo',
    'rab',
    'ral',
    'rals',
    'rance',
    'rand',
    'ras',
    'rasa',
    'rata',
    'rea',
    'reb',
    'rec',
    'recto',
    'rede',
    'redes',
    'ree',
    'reen',
    'rees',
    'reet',
    'refl',
    'refr',
    'reg',
    'regr',
    'regula',
    'reh',
    'reim',
    'rel',
    'rem',
    'rems',
    'ren',
    'repl',
    'repr',
    'repro',
    'res',
    'resh',
    'resp',
    'ret',
    'rete',
    'rew',
    'rha',
    'rheo',
    'ria',
    'rial',
    'ric',
    'rie',
    'rier',
    'ries',
    'rin',
    'rine',
    'rio',
    'rist',
    'rive',
    'rix',
    'rle',
    'rly',
    'rms',
    'rom',
    'roo',
    'ros',
    'rota',
    'rouping',
    'rous',
    'rox',
    'run',
    'rus',
    'rusa',
    'rya',
    'sab',
    'sal',
    'sala',
    'sals',
    'san',
    'sant',
    'sapo',
    'sar',
    'saur',
    'saut',
    'sav',
    'sawt',
    'sch',
    'scr',
    'scrab',
    'scrat',
    'scur',
    'sed',
    'seg',
    'sei',
    'sel',
    'sels',
    'sem',
    'semih',
    'sen',
    'sena',
    'sence',
    'senso',
    'sensu',
    'ser',
    'sers',
    'serv',
    'seve',
    'sfoot',
    'sha',
    'shee',
    'sher',
    'shi',
    'shik',
    'sho',
    'shou',
    'shr',
    'sht',
    'sia',
    'sial',
    'sie',
    'sier',
    'siest',
    'sig',
    'signa',
    'sil',
    'sim',
    'sion',
    'sise',
    'sist',
    'sla',
    'slee',
    'sma',
    'soc',
    'soir',
    'soli',
    'solv',
    'sone',
    'sori',
    'sory',
    'sou',
    'spect',
    'specting',
    'spl',
    'spor',
    'ssed',
    'ssing',
    'sta',
    'stam',
    'ster',
    'stite',
    'stor',
    'str',
    'stra',
    'strake',
    'strang',
    'stylo',
    'sub',
    'suba',
    'subch',
    'subg',
    'subst',
    'sud',
    'suf',
    'suff',
    'sui',
    'supe',
    'suppl',
    'supra',
    'sur',
    'susi',
    'swa',
    'swy',
    'syl',
    'sym',
    'syn',
    'synd',
    'syr',
    'tabi',
    'tae',
    'tai',
    'tain',
    'tal',
    'tane',
    'tano',
    'tapa',
    'tas',
    'tate',
    'taun',
    'tch',
    'tead',
    'ted',
    'teg',
    'tel',
    'tele',
    'teleg',
    'teles',
    'tem',
    'ter',
    'terr',
    'tha',
    'thegn',
    'thew',
    'thio',
    'thir',
    'tho',
    'tic',
    'tical',
    'ticals',
    'tice',
    'tid',
    'ting',
    'tings',
    'tite',
    'toa',
    'tob',
    'toco',
    'toi',
    'tol',
    'tole',
    'tolly',
    'tolu',
    'topo',
    'tor',
    'torc',
    'toric',
    'tormen',
    'tors',
    'tos',
    'tourn',
    'tov',
    'tra',
    'trac',
    'tran',
    'trans',
    'transf',
    'transp',
    'trave',
    'tref',
    'tri',
    'trin',
    'tripl',
    'trp',
    'trun',
    'tty',
    'tua',
    'tum',
    'tun',
    'tup',
    'tur',
    'twa',
    'twi',
    'uca',
    'uit',
    'ula',
    'ule',
    'ull',
    'ulus',
    'umbel',
    'ume',
    'umist',
    'una',
    'unb',
    'unbe',
    'unc',
    'unca',
    'unci',
    'unco',
    'unde',
    'underli',
    'undern',
    'ung',
    'uni',
    'unio',
    'unl',
    'unn',
    'unp',
    'uns',
    'unta',
    'ups',
    'ura',
    'urb',
    'ure',
    'uri',
    'uria',
    'uro',
    'urs',
    'uts',
    'vag',
    'val',
    'var',
    'vari',
    'vas',
    'vel',
    'ver',
    'verd',
    'vergi',
    'veri',
    'vers',
    'vert',
    'vica',
    'vin',
    'vis',
    'viti',
    'vol',
    'waf',
    'warran',
    'wat',
    'wea',
    'weal',
    'wels',
    'wer',
    'whar',
    'wid',
    'wis',
    'wite',
    'wort',
    'wro',
    'xylo',
    'yan',
    'yang',
    'yday',
    'yed',
    'yeh',
    'yeo',
    'yun',
    'zan',
    'zea',
    'zed',
    'zee',
    'corr',
    'ables',
    'mult',
    'enation',
    'urd',
    'coli',
    'duce',
    'ghi',
    'obl',
    'pali',
    'sado',
    'mara',
    'dob',
    'arco',
    'hore',
    'zer',
    'eff',
    'eir',
    'riss',
    'supp',
    'azan',
    'testa',
    'eam',
}

# already looked at these
dictionary -= {
    'app',
    'imp',
    'off',
}

# undesirable words
bad_prefixes = {
    'semi',
}

bad_suffixes = {
    'able',
    'ally',
    'hal',
    'hip',
    'ion',
    'ions',
    'ive',
    'less',
    'man',
    'ship',
    'sis',
    'stan',
}

for word in sorted(sorted(dictionary), key=len, reverse=True):
    if len(word) > 11:
        continue
    if len(word) < min_length * 2:
        break

    for i in range(min_length, len(word)+1 - min_length):
        prefix, suffix = word[:i], word[i:]
        if prefix in bad_prefixes or suffix in bad_suffixes:
            continue
        if (prefix, suffix) in compound_words:
            continue
        if prefix in dictionary and suffix in dictionary:
            print(f"{len(word)*2:2} {word} {prefix} {suffix} ")
