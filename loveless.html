<html>
    <head>
        <style>
            table {
                width: 100%;
                height: 100%;
            }

            textarea {
                width: 100%;
                height: 100%;
            }
        </style>
    </head>

    <body>
        <table>
            <tr>
                <td colspan="2">
                    <textarea id="input"></textarea>
                </td>
            </tr>

            <tr>
                <td>
                    <textarea id="love" readonly></textarea>
                </td>
                <td>
                    <textarea id="loveless" readonly></textarea>
                </td>
            </tr>
        </table>

        <script>
            let input = document.getElementById("input");
            let love = document.getElementById("love");
            let loveless = document.getElementById("loveless");

            input.addEventListener("input", () => {
                love.value = input.value
                    .split("\n")
                    .map(line => line.toUpperCase())
                    .map(line => line.replaceAll(/\s/g, ""))
                    .map(line => `${`(${line.replaceAll(/[^A-Z/]/g, "").length})`.padStart(4)} ${line}`)
                    .join("\n")
                    .replaceAll("(0) ", "");
                loveless.value = input.value
                    .split("\n")
                    .map(line => line.toLowerCase())
                    .map(line => line.replaceAll(/\s/g, ""))
                    .map(line => line.replaceAll("o", ""))
                    .join("\n");

                window.localStorage.setItem("input", input.value);
            });

            input.value = window.localStorage.getItem("input");
            input.dispatchEvent(new Event("input"));
            input.focus();
        </script>
    </body>
</html>
